local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- GUI Setup
local gui = Instance.new("ScreenGui", PlayerGui)
gui.Name = "XenoUI"
gui.ResetOnSpawn = false

-- Основной фрейм (как в Xeno)
local mainFrame = Instance.new("Frame", gui)
mainFrame.Size = UDim2.new(0, 600, 0, 400)
mainFrame.Position = UDim2.new(0.5, -300, 0.5, -200)
mainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 15)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true

-- Вкладка
local tabLabel = Instance.new("TextLabel", mainFrame)
tabLabel.Text = "Tab 1"
tabLabel.Size = UDim2.new(0, 100, 0, 25)
tabLabel.Position = UDim2.new(0, 10, 0, 10)
tabLabel.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
tabLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
tabLabel.Font = Enum.Font.SourceSansBold
tabLabel.TextSize = 18
tabLabel.BorderSizePixel = 0

-- Поле ввода кода
local codeBox = Instance.new("TextBox", mainFrame)
codeBox.Size = UDim2.new(1, -20, 1, -90)
codeBox.Position = UDim2.new(0, 10, 0, 40)
codeBox.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
codeBox.TextColor3 = Color3.fromRGB(200, 200, 255)
codeBox.Font = Enum.Font.Code
codeBox.TextSize = 16
codeBox.MultiLine = true
codeBox.ClearTextOnFocus = false
codeBox.TextXAlignment = Enum.TextXAlignment.Left
codeBox.TextYAlignment = Enum.TextYAlignment.Top
codeBox.Text = "-- Вставь сюда свой код"
codeBox.BorderSizePixel = 0

-- Кнопка Меню
local menuButton = Instance.new("TextButton", mainFrame)
menuButton.Size = UDim2.new(0, 100, 0, 30)
menuButton.Position = UDim2.new(1, -110, 0, 10)
menuButton.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
menuButton.TextColor3 = Color3.fromRGB(255, 255, 255)
menuButton.Font = Enum.Font.SourceSansBold
menuButton.TextSize = 16
menuButton.Text = "Меню ▶"
menuButton.BorderSizePixel = 0

-- Правое Меню
local sideMenu = Instance.new("Frame", gui)
sideMenu.Size = UDim2.new(0, 300, 0, 400)
sideMenu.Position = UDim2.new(1, 10, 0.5, -200)
sideMenu.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
sideMenu.BorderSizePixel = 0
sideMenu.Visible = false
sideMenu.Active = true
sideMenu.Draggable = true

-- Кнопки свернуть / закрыть
local closeBtn = Instance.new("TextButton", sideMenu)
closeBtn.Size = UDim2.new(0, 25, 0, 25)
closeBtn.Position = UDim2.new(1, -30, 0, 5)
closeBtn.BackgroundColor3 = Color3.fromRGB(35, 0, 0)
closeBtn.Text = "X"
closeBtn.TextColor3 = Color3.new(1,1,1)
closeBtn.Font = Enum.Font.SourceSansBold
closeBtn.TextSize = 14

local collapseBtn = Instance.new("TextButton", sideMenu)
collapseBtn.Size = UDim2.new(0, 25, 0, 25)
collapseBtn.Position = UDim2.new(1, -60, 0, 5)
collapseBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
collapseBtn.Text = "-"
collapseBtn.TextColor3 = Color3.new(1,1,1)
collapseBtn.Font = Enum.Font.SourceSansBold
collapseBtn.TextSize = 18

-- Заголовок
local title = Instance.new("TextLabel", sideMenu)
title.Text = "Меню игрока"
title.Size = UDim2.new(1, -10, 0, 30)
title.Position = UDim2.new(0, 10, 0, 5)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.new(1,1,1)
title.Font = Enum.Font.SourceSansBold
title.TextSize = 20
title.TextXAlignment = Enum.TextXAlignment.Left

-- Список игроков
local playerList = Instance.new("ScrollingFrame", sideMenu)
playerList.Size = UDim2.new(1, -20, 1, -50)
playerList.Position = UDim2.new(0, 10, 0, 40)
playerList.CanvasSize = UDim2.new(0, 0, 0, 0)
playerList.ScrollBarThickness = 6
playerList.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
playerList.BorderSizePixel = 0

local layout = Instance.new("UIListLayout", playerList)
layout.Padding = UDim.new(0, 5)
layout.SortOrder = Enum.SortOrder.LayoutOrder

-- Обновление списка игроков
local function updatePlayerList()
	playerList:ClearAllChildren()
	layout.Parent = playerList
	for _, plr in ipairs(Players:GetPlayers()) do
		local item = Instance.new("Frame")
		item.Size = UDim2.new(1, 0, 0, 60)
		item.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
		item.BorderSizePixel = 0
		item.Parent = playerList

		local name = Instance.new("TextLabel", item)
		name.Text = plr.Name
		name.Size = UDim2.new(0.5, 0, 0, 20)
		name.Position = UDim2.new(0, 60, 0, 5)
		name.BackgroundTransparency = 1
		name.TextColor3 = Color3.new(1,1,1)
		name.Font = Enum.Font.SourceSans
		name.TextSize = 14
		name.TextXAlignment = Enum.TextXAlignment.Left

		local pos = Instance.new("TextLabel", item)
		pos.Text = "Позиция: неизвестно"
		pos.Size = UDim2.new(0.5, 0, 0, 20)
		pos.Position = UDim2.new(0, 60, 0, 25)
		pos.BackgroundTransparency = 1
		pos.TextColor3 = Color3.fromRGB(200, 200, 200)
		pos.Font = Enum.Font.SourceSans
		pos.TextSize = 12
		pos.TextXAlignment = Enum.TextXAlignment.Left

		local teleportBtn = Instance.new("TextButton", item)
		teleportBtn.Size = UDim2.new(0, 80, 0, 25)
		teleportBtn.Position = UDim2.new(1, -90, 0.5, -12)
		teleportBtn.Text = "Телепорт"
		teleportBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
		teleportBtn.TextColor3 = Color3.new(1,1,1)
		teleportBtn.Font = Enum.Font.SourceSansBold
		teleportBtn.TextSize = 12

		teleportBtn.MouseButton1Click:Connect(function()
			if plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
				LocalPlayer.Character:MoveTo(plr.Character.HumanoidRootPart.Position + Vector3.new(2, 0, 0))
			end
		end)

		local thumb = Players:GetUserThumbnailAsync(plr.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size48x48)
		local img = Instance.new("ImageLabel", item)
		img.Image = thumb
		img.Size = UDim2.new(0, 48, 0, 48)
		img.Position = UDim2.new(0, 5, 0, 5)
		img.BackgroundTransparency = 1

		-- обновление позиции
		task.spawn(function()
			while plr.Parent == Players do
				task.wait(1)
				local char = plr.Character
				if char and char:FindFirstChild("HumanoidRootPart") then
					pos.Text = "Позиция: " .. tostring(Vector3.new(math.floor(char.HumanoidRootPart.Position.X), 0, math.floor(char.HumanoidRootPart.Position.Z)))
				end
			end
		end)
	end
	playerList.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 10)
end

-- Обновление при изменении игроков
Players.PlayerAdded:Connect(updatePlayerList)
Players.PlayerRemoving:Connect(updatePlayerList)

-- Открытие/закрытие
menuButton.MouseButton1Click:Connect(function()
	sideMenu.Visible = not sideMenu.Visible
	menuButton.Text = sideMenu.Visible and "Меню ◀" or "Меню ▶"
end)

closeBtn.MouseButton1Click:Connect(function()
	sideMenu.Visible = false
	menuButton.Text = "Меню ▶"
end)

collapseBtn.MouseButton1Click:Connect(function()
	playerList.Visible = not playerList.Visible
end)

-- Инициализация
updatePlayerList()
